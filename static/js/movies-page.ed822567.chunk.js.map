{"version":3,"sources":["views/MoviesPage.js"],"names":["MoviesPage","state","movies","query","handleChange","e","setState","currentTarget","value","console","log","handleSubmit","preventDefault","searchMovie","a","this","Axios","get","response","data","results","match","props","onSubmit","className","type","autoComplete","autoFocus","placeholder","onChange","map","movie","to","url","id","title","Component"],"mappings":"mPAKMA,E,4MACJC,MAAQ,CACNC,OAAQ,GACRC,MAAO,I,EAGTC,aAAe,SAACC,GACd,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,cAAcC,QACvCC,QAAQC,IAAIL,I,EAGdM,aAAe,SAACN,GACdA,EAAEO,iBACFH,QAAQC,IAAIL,GACZ,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,cAAcC,QACvCC,QAAQC,IAAI,EAAKT,MAAME,OACvB,EAAKU,cACL,EAAKP,SAAS,CAAEH,MAAO,M,wFAGzB,8BAAAW,EAAA,6DACUX,EAAUY,KAAKd,MAAfE,MADV,SAEyBa,IAAMC,IAAN,0DAC8Bd,EAD9B,oBAxBf,mCAwBe,+CAFzB,OAEQe,EAFR,OAKET,QAAQC,IAAIP,GACZY,KAAKT,SAAS,CAAEJ,OAAQgB,EAASC,KAAKC,UANxC,gD,0EASA,WACE,IAAQC,EAAUN,KAAKO,MAAfD,MAER,OACE,qCACE,uBAAME,SAAUR,KAAKJ,aAAca,UAAU,OAA7C,UACE,uBACEC,KAAK,OACLjB,MAAOO,KAAKd,MAAME,MAClBuB,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,SAAUd,KAAKX,eAEjB,wBAAQqB,KAAK,SAASD,UAAU,WAAhC,uBAKF,6BACGT,KAAKd,MAAMC,OAAO4B,KAAI,SAACC,GAAD,OACrB,6BACE,cAAC,IAAD,CAAMC,GAAE,UAAKX,EAAMY,IAAX,YAAkBF,EAAMG,IAAhC,SAAuCH,EAAMI,SADtCJ,EAAMG,gB,GAlDFE,aA4DVpC","file":"static/js/movies-page.ed822567.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nconst KEY = \"478a6293c6d1ac9e31348f3204c340c0\";\r\n\r\nclass MoviesPage extends Component {\r\n  state = {\r\n    movies: [],\r\n    query: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ query: e.currentTarget.value });\r\n    console.log(e);\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(e);\r\n    this.setState({ query: e.currentTarget.value });\r\n    console.log(this.state.query);\r\n    this.searchMovie();\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  async searchMovie() {\r\n    const { query } = this.state;\r\n    const response = await Axios.get(\r\n      `https://api.themoviedb.org/3/search/movie?query=${query}&api_key=${KEY}&language=en-US&page=1&include_adult=false`\r\n    );\r\n    console.log(query);\r\n    this.setState({ movies: response.data.results });\r\n  }\r\n\r\n  render() {\r\n    const { match } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <form onSubmit={this.handleSubmit} className=\"form\">\r\n          <input\r\n            type=\"text\"\r\n            value={this.state.query}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search movies\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <button type=\"submit\" className=\"form-btn\">\r\n            Search\r\n          </button>\r\n        </form>\r\n\r\n        <ul>\r\n          {this.state.movies.map((movie) => (\r\n            <li key={movie.id}>\r\n              <Link to={`${match.url}/${movie.id}`}>{movie.title}</Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}